/* Minimalist Aesthetic Theme (Subtle, Smooth, Clean) */

@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap');

:root {
    /* Base Colors - Inspired by Vercel / Linear */
    --aesthetic-bg: #fdfdfd;
    --aesthetic-bg-subtle: #f8f9fa;
    --aesthetic-text: #1d1d1f;
    --aesthetic-text-muted: #6e6e73;
    /* Updated Color Palette: "Deep Violet" */
    --aesthetic-accent: #5b21b6;
    /* Vivid Violet for icons/highlights */
    --aesthetic-primary: #4c1d95;
    /* Deep Purple for buttons */
    --aesthetic-border: #e5e7eb;
    --aesthetic-sidebar-bg: #ffffff;

    /* Soft Shadows */
    --soft-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
    --hover-shadow: 0 10px 15px -3px rgba(76, 29, 149, 0.15), 0 4px 6px -2px rgba(76, 29, 149, 0.1);

    --font-main: "Outfit", -apple-system, system-ui, sans-serif;
}

/* --- Dark Theme Overrides --- */
[data-theme="dark"] {
    --aesthetic-bg: #0f172a;
    /* Deep Slate Blue/Black */
    --aesthetic-bg-subtle: #1e293b;
    /* Lighter Slate for containers */
    --aesthetic-text: #f8fafc;
    /* Off-white text */
    --aesthetic-text-muted: #94a3b8;
    /* Muted Blue-Grey */
    --aesthetic-sidebar-bg: #0f172a;
    /* Match main bg */
    --aesthetic-border: #334155;
    /* Darker border */
    --aesthetic-accent: #8b5cf6;
    /* Lighter Violet for dark mode */

    /* Adjust shadow for dark mode visibility */
    --soft-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
}

[data-theme="dark"] .bg-white {
    background-color: var(--aesthetic-bg-subtle) !important;
    color: var(--aesthetic-text);
}

[data-theme="dark"] .bg-light {
    background-color: var(--aesthetic-bg) !important;
    color: var(--aesthetic-text);
}

[data-theme="dark"] .text-secondary,
[data-theme="dark"] .text-muted {
    color: var(--aesthetic-text-muted) !important;
}

[data-theme="dark"] .navbar,
[data-theme="dark"] .card,
[data-theme="dark"] .doc-card,
[data-theme="dark"] .list-group-item {
    background-color: var(--aesthetic-bg-subtle) !important;
    color: var(--aesthetic-text);
    border-color: var(--aesthetic-border);
}

[data-theme="dark"] .progress {
    background-color: var(--aesthetic-border);
}

[data-theme="dark"] .form-control,
[data-theme="dark"] .form-select {
    background-color: var(--aesthetic-bg) !important;
    color: var(--aesthetic-text) !important;
    border-color: var(--aesthetic-border) !important;
}

[data-theme="dark"] .table {
    color: var(--aesthetic-text);
    border-color: var(--aesthetic-border);
}

body {
    background-color: var(--aesthetic-bg-subtle);
    color: var(--aesthetic-text);
    font-family: var(--font-main);
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden;
}

/* Animations */
* {
    transition: background-color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;
}

/* --- Animated Background --- */
.animated-background {
    background: linear-gradient(-45deg, #fdfdfd, #f3f4f6, #eecbff, #fdfdfd);
    background-size: 400% 400%;
    animation: gradientFlow 15s ease infinite;
}

[data-theme="dark"] .animated-background {
    background: linear-gradient(-45deg, #0f172a, #1e1b4b, #312e81, #0f172a);
    background-size: 400% 400%;
}

/* --- Cursor Interaction Glow --- */
#cursor-glow {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
    /* Behind content but above background */
    /* background is set via inline JS for performance/reliability */
    transition: background 0.1s ease;
}

[data-theme="dark"] #cursor-glow {
    /* JS handles the gradient, but we can adjust opacity here if needed via variables, 
      but for now let's rely on JS updating the gradient string or use CSS variables if we want theme support.
      Let's stick to the JS update for ensuring position works, but we can tune colors here if we used variables.
      Since JS sets the whole background property, these static overrides might get overwritten.
      Better approach: Use CSS variables in JS for position, and CSS for the gradient definition. 
      But to fix the "not visible" issue, inline style is the most robust "brute force" way.
   */
    z-index: 0;
}

@keyframes gradientFlow {
    0% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }

    100% {
        background-position: 0% 50%;
    }
}

/* --- Sidebar Styling --- */
#wrapper {
    overflow-x: hidden;
}

#sidebar-wrapper {
    min-height: 100vh;
    margin-left: -15rem;
    transition: margin 0.3s ease-in-out;
    background-color: var(--aesthetic-sidebar-bg);
    border-right: 1px solid var(--aesthetic-border);
    width: 15rem;
    position: fixed;
    z-index: 1000;
    box-shadow: var(--soft-shadow);
}

#wrapper.toggled #sidebar-wrapper {
    margin-left: 0;
}

#page-content-wrapper {
    width: 100%;
    margin-left: 0;
    transition: margin 0.3s ease-in-out;
    /* padding-left: 15rem;  This logic depends on toggle state, usually JS calls .toggled on wrapper. 
      Assuming defaults: if Untoggled (hidden), margin is -15rem. If Toggled (shown), margin is 0. 
      Wait, typical bootstrap sidebar template:
      Mobile: Hidden by default (margin -15rem).
      Desktop: Visible by default? 
      Let's assume standard behavior:
      If #wrapper has class 'toggled', sidebar is visible.
   */
}

@media (min-width: 768px) {
    #sidebar-wrapper {
        margin-left: 0;
        /* Visible on desktop by default */
    }

    #page-content-wrapper {
        min-width: 0;
        width: 100%;
        margin-left: 15rem;
        /* Push content */
    }

    #wrapper.toggled #sidebar-wrapper {
        margin-left: -15rem;
        /* Hide is toggle is clicked */
    }

    #wrapper.toggled #page-content-wrapper {
        margin-left: 0;
    }
}

/* Sidebar Links */
.sidebar-heading {
    padding: 2rem 1.5rem;
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--aesthetic-text);
    letter-spacing: -0.02em;
    border-bottom: 1px solid var(--aesthetic-border);
}

.list-group-item {
    border: none;
    padding: 1rem 1.5rem;
    font-weight: 500;
    color: var(--aesthetic-text-muted);
    background: transparent;
    display: flex;
    align-items: center;
    border-left: 3px solid transparent;
}

.list-group-item i {
    width: 24px;
    opacity: 0.7;
    transition: transform 0.2s;
}

.list-group-item:hover {
    color: var(--aesthetic-accent);
    background-color: #f9f9fa;
    padding-left: 1.75rem;
    /* Slide effect */
}

[data-theme="dark"] .list-group-item:hover {
    background-color: #1e293b;
}

.list-group-item:hover i {
    transform: scale(1.1);
}

.list-group-item.active {
    color: var(--aesthetic-primary);
    /* Violet text */
    background-color: #f5f3ff;
    /* Very light purple bg */
    border-left-color: var(--aesthetic-primary);
    font-weight: 600;
}

[data-theme="dark"] .list-group-item.active {
    color: var(--aesthetic-accent);
    background-color: rgba(139, 92, 246, 0.15);
}

/* --- Hero Section --- */
.doc-hero {
    background: transparent;
    /* Seamless blend */
    padding: 3rem 0;
    margin-bottom: 2rem;
    text-align: left;
    border-bottom: none;
}

.doc-hero h1 {
    font-size: 2.5rem;
    font-weight: 800;
    background: linear-gradient(135deg, #4c1d95 0%, #8b5cf6 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 0.5rem;
    letter-spacing: -0.03em;
}

.doc-hero p {
    font-size: 1.1rem;
    font-weight: 400;
    color: var(--aesthetic-text-muted);
}

/* --- Cards (Neumorphic Lite) --- */
.doc-card {
    background: var(--aesthetic-sidebar-bg);
    border: 1px solid rgba(0, 0, 0, 0.02);
    /* Barely visible border */
    border-radius: 16px;
    /* Smooth curves */
    padding: 2rem;
    box-shadow: var(--soft-shadow);
    height: 100%;
}

.doc-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--hover-shadow);
}

.doc-card-title {
    font-size: 0.85rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--aesthetic-text-muted);
    margin-bottom: 1rem;
}

.doc-stat-value {
    font-size: 3.5rem;
    font-weight: 700;
    color: var(--aesthetic-text);
    letter-spacing: -0.03em;
}

/* Charts Area */
canvas {
    filter: saturate(90%);
    /* Mutate colors slightly for vibe */
}

/* Form Elements - Rounded & Soft */
.form-control,
.form-select {
    border-radius: 12px;
    border: 1px solid var(--aesthetic-border);
    background-color: var(--aesthetic-bg-subtle);
    color: var(--aesthetic-text);
    padding: 0.75rem 1rem;
    font-size: 0.95rem;
    transition: all 0.2s;
}

.form-control:focus,
.form-select:focus {
    background-color: #fff;
    border-color: #ccc;
    box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.05);
    /* Soft glow */
}

[data-theme="dark"] .form-control:focus,
[data-theme="dark"] .form-select:focus {
    background-color: var(--aesthetic-bg-subtle);
    border-color: var(--aesthetic-accent);
    box-shadow: 0 0 0 4px rgba(139, 92, 246, 0.2);
}

/* Buttons - Minimalist */
.btn-doc-primary {
    background-color: var(--aesthetic-primary);
    color: white;
    border-radius: 12px;
    padding: 0.75rem 1.5rem;
    font-weight: 600;
    border: none;
    letter-spacing: 0.02em;
}

.btn-doc-primary:hover {
    background-color: #333;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

/* Layout Utilities */
.doc-container {
    max-width: 1400px;
    padding: 0 3rem;
    margin: 0 auto;
}

.main-content-wrapper {
    padding-top: 1rem;
    padding-bottom: 5rem;
}

/* Navbar (Top) */
.navbar {
    background-color: var(--aesthetic-bg-subtle) !important;
    /* Blend with body */
    box-shadow: none !important;
    border-bottom: 1px solid transparent;
}

.navbar h2 {
    font-weight: 700;
    font-size: 1.5rem;
    letter-spacing: -0.02em;
}

#nav-placeholder .bg-white {
    background-color: var(--aesthetic-bg-subtle) !important;
}

/* Utilities */
.text-success {
    color: #10b981 !important;
}

.text-danger {
    color: #ef4444 !important;
}

.text-warning {
    color: #f59e0b !important;
}

.text-info {
    color: #3b82f6 !important;
}

/* --- Split Screen Login Layout --- */
.login-container {
    display: flex;
    width: 1200px;
    max-width: 95vw;
    background: #fff;
    border-radius: 20px;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
    overflow: hidden;
    min-height: 500px;
    /* Reduced to 500px */
}

.login-left {
    flex: 1;
    background: #0f1025;
    /* Dark Navy/Black */
    background: linear-gradient(135deg, #1a1b41 0%, #0f1025 100%);
    position: relative;
    padding: 2rem;
    /* Reduced to 2rem */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    color: white;
    /* Diagonal cut effect could be complex, using simple gradient/image for now or clip-path if needed. 
       The image shows a diagonal white overlay. Let's try a pseudo-element. */
}

/* Diagonal Overlay/Shape */
.login-left::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 100%;
    height: 100%;
    background: transparent;
    pointer-events: none;
    /* This is hard to perfect without SVG. Let's simple clip the right side? 
       Actually, the right side (white) cuts into the left. */
}

/* Re-implement diagonal using the container or clip-path on the left child */
/* Simpler approach: Just a clean split for now, maybe add a diagonal divider image if time permits. */

.login-brand {
    font-size: 1.4rem;
    /* Slightly smaller */
    font-weight: 700;
    color: #fff;
    z-index: 2;
}

.login-illustration {
    flex-grow: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

.login-illustration img {
    max-width: 100%;
    max-height: 280px;
    /* Reduced from 350px */
    filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3));
}

.login-right {
    flex: 1;
    background: #fff;
    padding: 2rem;
    /* Reduced from 3rem */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
}

/* Diagonal cut attempt using clip-path on the right panel? 
   Or better, a pseudo-element on the left panel that is white and slanted. */
.login-container {
    background-color: #0f1025;
    /* Match left bg so it shows through */
}

.login-left {
    width: 55%;
    /* Give it more space */
    flex: unset;
}

.login-right {
    width: 45%;
    flex: unset;
    background: #fdfdfd;
    clip-path: polygon(15% 0, 100% 0, 100% 100%, 0% 100%);
    margin-left: -50px;
    /* Overlap */
    padding-left: 4rem;
    /* Compensate for slant */
}

@media (max-width: 768px) {
    .login-container {
        flex-direction: column;
        width: 100%;
        min-height: auto;
    }

    .login-left {
        width: 100%;
        padding: 2rem;
        min-height: 200px;
    }

    .login-right {
        width: 100%;
        clip-path: none;
        margin-left: 0;
        padding: 2rem;
    }

    .login-illustration {
        display: none;
        /* Hide on mobile to save space or keep small */
    }
}

.login-form-wrapper {
    width: 100%;
    max-width: 320px;
}

.form-control {
    background-color: #f3f4f6;
    border: none;
    padding: 0.8rem 1rem;
}

.form-control:focus {
    background-color: #fff;
    box-shadow: 0 0 0 2px var(--aesthetic-primary);
}

.input-group-text,
.btn-outline-secondary {
    background-color: #f3f4f6;
    border: none;
}

.input-group:focus-within .btn-outline-secondary,
.input-group:focus-within .form-control {
    background-color: #fff;
    border-color: #ccc;
}

.btn-doc-primary {
    background-color: #4c1d95;
    /* Deep Violet */
    border-radius: 8px;
    font-size: 0.9rem;
    letter-spacing: 1px;
    text-transform: uppercase;
}

/* --- Scoped Compact Tracker Styles --- */
/* --- Scoped Compact Tracker Styles --- */
.compact-tracker .doc-hero {
    padding: 1rem 0;
    margin-bottom: 1rem;
}

.compact-tracker .doc-card {
    padding: 1rem;
    height: auto !important;
}

.compact-tracker .form-control,
.compact-tracker .form-select {
    padding: 0.4rem 0.6rem;
    font-size: 0.9rem;
}

.compact-tracker .btn-doc-primary {
    padding: 0.5rem 1rem;
    font-size: 0.9rem;
}

/* Custom Component Colors */
.topic-mastery-card {
    background-color: rgba(0, 0, 0, 0.02);
}

[data-theme="dark"] .topic-mastery-card {
    background-color: rgba(255, 255, 255, 0.05);
}

.weak-areas-card {
    background-color: #fff8f8;
    border-color: #fca5a5;
}

[data-theme="dark"] .weak-areas-card {
    background-color: rgba(220, 53, 69, 0.08);
    /* Subtle red bg */
    border-color: rgba(220, 53, 69, 0.3);
}

[data-theme="dark"] .weak-areas-card .text-muted {
    color: var(--aesthetic-text-muted) !important;
}

[data-theme="dark"] .weak-areas-card .small {
    color: var(--aesthetic-text-muted) !important;
}

/* --- Profile Modal Styling --- */
.profile-modal-content {
    border-radius: 24px;
    border: 1px solid var(--aesthetic-border);
    background-color: var(--aesthetic-sidebar-bg);
    overflow: hidden;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

.profile-avatar-container {
    position: relative;
    display: inline-block;
    padding: 10px;
    background: linear-gradient(135deg, #f5f3ff 0%, #ede9fe 100%);
    border-radius: 50%;
}

.text-label {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--aesthetic-text-muted);
    letter-spacing: 0.02em;
    text-transform: uppercase;
}

[data-theme="dark"] .text-label {
    color: var(--aesthetic-text-muted);
}

[data-theme="dark"] .profile-avatar-container {
    background: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%);
}

.profile-avatar {
    font-size: 5rem;
    color: var(--aesthetic-primary);
    line-height: 1;
}

.profile-info-grid {
    background: var(--aesthetic-bg-subtle);
    border-radius: 16px;
    padding: 1.5rem;
    margin-top: 1rem;
}

.info-item label {
    display: block;
    margin-bottom: 2px;
    letter-spacing: 0.05em;
}

.info-item p {
    color: var(--aesthetic-text);
    font-weight: 500;
}

.interests-summary span {
    background: #fff;
    border: 1px solid var(--aesthetic-border);
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 500;
}

[data-theme="dark"] .interests-summary span {
    background: var(--aesthetic-bg);
}

.modal-header .btn-close {
    background-color: var(--aesthetic-bg-subtle);
    border-radius: 50%;
    padding: 0.5rem;
    font-size: 0.75rem;
}

/* --- Toast Notifications --- */
.toast-container {
    position: fixed;
    top: 2rem;
    right: 2rem;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    pointer-events: none;
}

.toast-container .alert {
    pointer-events: auto;
    min-width: 300px;
    border: none;
    border-radius: 12px;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    padding: 1rem 1.25rem;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    animation: slideInRight 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    transition: all 0.3s ease;
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(100%);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.toast-container .alert.fade-out {
    opacity: 0;
    transform: translateX(20px);
}

/* --- Progress Bar --- */
.upload-progress-container {
    margin-top: 1rem;
    background: var(--aesthetic-bg-subtle);
    border-top: 1px solid var(--aesthetic-border);
    padding-top: 1.5rem;
    display: none;
    /* Shown during upload */
}

.progress {
    height: 8px;
    background-color: var(--aesthetic-border);
    border-radius: 4px;
    overflow: hidden;
}

.progress-bar {
    background-color: var(--aesthetic-primary);
    transition: width 0.3s ease;
}

.progress-text {
    font-size: 0.85rem;
    color: var(--aesthetic-text-muted);
    font-weight: 500;
    margin-top: 0.5rem;
    text-align: center;
}

/* --- Greeting Animation Styles --- */
#animated-greeting {
    font-weight: 800;
    letter-spacing: -0.02em;
    line-height: 1.2;
}

#animated-greeting span {
    animation: float 3s ease-in-out infinite;
}

#animated-greeting span:nth-child(odd) {
    animation-delay: 0.1s;
}

#animated-greeting span:nth-child(even) {
    animation-delay: 0.2s;
}

@keyframes float {

    0%,
    100% {
        transform: translateY(0px);
    }

    50% {
        transform: translateY(-5px);
    }
}

#animated-greeting span:hover {
    transform: scale(1.2) !important;
    transition: transform 0.2s ease;
}

#animated-subtitle {
    font-weight: 400;
    color: var(--aesthetic-text-muted);
}

/* Dark mode adjustments for greeting */
[data-theme="dark"] #animated-greeting span {
    filter: brightness(1.2);
}

/* Dark mode chart text visibility */
[data-theme="dark"] canvas {
    color: var(--aesthetic-text);
}

/* Dark mode badge visibility */
[data-theme="dark"] .badge {
    color: #fff !important;
}

/* Dark mode topic mastery card text */
[data-theme="dark"] .topic-mastery-card .fw-bold,
[data-theme="dark"] .topic-mastery-card span {
    color: var(--aesthetic-text) !important;
}

[data-theme="dark"] .topic-mastery-card .text-muted {
    color: var(--aesthetic-text-muted) !important;
}

/* Dark mode alert text visibility */
[data-theme="dark"] .alert {
    color: var(--aesthetic-text);
}

/* Dark mode button text */
[data-theme="dark"] .btn-link {
    color: var(--aesthetic-text-muted) !important;
}

[data-theme="dark"] .btn-link:hover {
    color: var(--aesthetic-accent) !important;
}

/* ========================================
   ADVANCED ANIMATIONS
   ======================================== */

/* Animated Gradient Background */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    opacity: 0.4;
    background: linear-gradient(135deg,
            rgba(91, 33, 182, 0.05) 0%,
            rgba(139, 92, 246, 0.08) 25%,
            rgba(76, 29, 149, 0.05) 50%,
            rgba(91, 33, 182, 0.08) 75%,
            rgba(139, 92, 246, 0.05) 100%);
    background-size: 400% 400%;
    animation: gradientShift 15s ease infinite;
    pointer-events: none;
}

[data-theme="dark"] body::before {
    opacity: 0.15;
    background: linear-gradient(135deg,
            rgba(91, 33, 182, 0.1) 0%,
            rgba(139, 92, 246, 0.15) 25%,
            rgba(76, 29, 149, 0.1) 50%,
            rgba(91, 33, 182, 0.15) 75%,
            rgba(139, 92, 246, 0.1) 100%);
    background-size: 400% 400%;
}

@keyframes gradientShift {

    0%,
    100% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }
}

/* Floating Orbs Background Effect */
body::after {
    content: '';
    position: fixed;
    top: -50%;
    right: -50%;
    width: 100%;
    height: 100%;
    z-index: -1;
    background: radial-gradient(circle at center, rgba(139, 92, 246, 0.1) 0%, transparent 70%);
    animation: floatOrb 20s ease-in-out infinite;
    pointer-events: none;
}

[data-theme="dark"] body::after {
    background: radial-gradient(circle at center, rgba(139, 92, 246, 0.15) 0%, transparent 70%);
}

@keyframes floatOrb {

    0%,
    100% {
        transform: translate(0, 0) scale(1);
    }

    33% {
        transform: translate(-30%, 20%) scale(1.1);
    }

    66% {
        transform: translate(20%, -15%) scale(0.9);
    }
}

/* Shimmer Effect for Text */
.shimmer-effect {
    background: linear-gradient(90deg,
            var(--aesthetic-primary) 0%,
            var(--aesthetic-accent) 50%,
            var(--aesthetic-primary) 100%);
    background-size: 200% auto;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: shimmer 3s linear infinite;
}

@keyframes shimmer {
    0% {
        background-position: 0% center;
    }

    100% {
        background-position: 200% center;
    }
}

/* Card Entrance Animations */
.doc-card {
    animation: fadeInUp 0.6s ease-out both;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Fade In Up for Scroll Animations */
.fade-in-up {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.6s ease, transform 0.6s ease;
}

.fade-in-up.visible {
    opacity: 1;
    transform: translateY(0);
}

/* Enhanced Card Hover with Glow */
.doc-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--hover-shadow), 0 0 30px rgba(139, 92, 246, 0.15);
}

[data-theme="dark"] .doc-card:hover {
    box-shadow: var(--hover-shadow), 0 0 40px rgba(139, 92, 246, 0.25);
}

/* Progress Bar Animation */
.progress-bar {
    transition: width 1.5s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.progress-bar::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background: linear-gradient(90deg,
            transparent,
            rgba(255, 255, 255, 0.3),
            transparent);
    animation: shimmerProgress 2s infinite;
}

@keyframes shimmerProgress {
    0% {
        transform: translateX(-100%);
    }

    100% {
        transform: translateX(100%);
    }
}

/* Ripple Effect for Buttons */
.ripple {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.5);
    transform: scale(0);
    animation: rippleEffect 0.6s ease-out;
    pointer-events: none;
}

[data-theme="dark"] .ripple {
    background: rgba(139, 92, 246, 0.4);
}

@keyframes rippleEffect {
    to {
        transform: scale(4);
        opacity: 0;
    }
}

/* Button Hover Enhancements */
.btn-doc-primary {
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

.btn-doc-primary::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.btn-doc-primary:hover::before {
    width: 300px;
    height: 300px;
}

/* Pulse Animation */
@keyframes pulse {

    0%,
    100% {
        transform: scale(1);
        opacity: 1;
    }

    50% {
        transform: scale(1.05);
        opacity: 0.8;
    }
}

.pulse {
    animation: pulse 1s ease-in-out;
}

/* Stat Value Number Animation */
.doc-stat-value {
    transition: color 0.3s ease;
}

/* Loading Skeleton Animation */
.skeleton {
    background: linear-gradient(90deg,
            var(--aesthetic-border) 25%,
            var(--aesthetic-bg-subtle) 50%,
            var(--aesthetic-border) 75%);
    background-size: 200% 100%;
    animation: loading 1.5s ease-in-out infinite;
}

@keyframes loading {
    0% {
        background-position: 200% 0;
    }

    100% {
        background-position: -200% 0;
    }
}

/* Form Input Focus Animation */
.form-control,
.form-select {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.form-control:focus,
.form-select:focus {
    transform: translateY(-2px);
}

/* Badge Pop Animation */
.badge {
    animation: popIn 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes popIn {
    0% {
        transform: scale(0);
        opacity: 0;
    }

    100% {
        transform: scale(1);
        opacity: 1;
    }
}

/* Sidebar Link Hover Enhancement */
.list-group-item {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.list-group-item::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 3px;
    background: var(--aesthetic-accent);
    transform: scaleY(0);
    transition: transform 0.3s ease;
}

.list-group-item:hover::before {
    transform: scaleY(1);
}

/* Toast Notification Enhanced Animation */
.toast-container .alert {
    animation: slideInRight 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(100%) scale(0.8);
    }

    to {
        opacity: 1;
        transform: translateX(0) scale(1);
    }
}

/* Smooth Scroll Behavior */
html {
    scroll-behavior: smooth;
}

/* Chart Animation */
canvas {
    animation: fadeIn 0.8s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

/* Topic Mastery Card Stagger */
.topic-mastery-card {
    animation: slideInScale 0.5s ease-out backwards;
}

.topic-mastery-card:nth-child(1) {
    animation-delay: 0.1s;
}

.topic-mastery-card:nth-child(2) {
    animation-delay: 0.2s;
}

.topic-mastery-card:nth-child(3) {
    animation-delay: 0.3s;
}

.topic-mastery-card:nth-child(4) {
    animation-delay: 0.4s;
}

.topic-mastery-card:nth-child(5) {
    animation-delay: 0.5s;
}

.topic-mastery-card:nth-child(6) {
    animation-delay: 0.6s;
}

@keyframes slideInScale {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* Glow Effect for Important Elements */
.glow {
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.4);
    animation: glowPulse 2s ease-in-out infinite;
}

@keyframes glowPulse {

    0%,
    100% {
        box-shadow: 0 0 20px rgba(139, 92, 246, 0.4);
    }

    50% {
        box-shadow: 0 0 30px rgba(139, 92, 246, 0.6);
    }
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    body::before,
    body::after {
        animation: none !important;
    }

    html {
        scroll-behavior: auto;
    }
}

/* Reduce motion class for JavaScript control */
.reduce-motion * {
    animation: none !important;
    transition: none !important;
}

/* Dark Mode Text Visibility Fixes */
body[data-theme="dark"] h1,
body[data-theme="dark"] h2,
body[data-theme="dark"] h3,
body[data-theme="dark"] h4,
body[data-theme="dark"] h5,
body[data-theme="dark"] h6,
body[data-theme="dark"] .h1,
body[data-theme="dark"] .h2,
body[data-theme="dark"] .h3,
body[data-theme="dark"] .h4,
body[data-theme="dark"] .h5,
body[data-theme="dark"] .h6 {
    color: var(--aesthetic-text) !important;
}

/* Navbar Link Visibility in Dark Mode */
[data-theme="dark"] .navbar .nav-link,
[data-theme="dark"] .navbar .second-text {
    color: var(--aesthetic-text) !important;
}

[data-theme="dark"] .navbar .nav-link:hover,
[data-theme="dark"] .navbar .second-text:hover {
    color: var(--aesthetic-accent) !important;
}

body[data-theme="dark"] .doc-card h3 {
    color: var(--aesthetic-text) !important;
}

body[data-theme="dark"] .text-dark {
    color: var(--aesthetic-text) !important;
}

body[data-theme="dark"] .card-title,
body[data-theme="dark"] .doc-card-title {
    color: var(--aesthetic-text) !important;
}

body[data-theme="dark"] .text-muted {
    color: var(--aesthetic-text-muted) !important;
}

/* Fallback for any other text in dark mode */
body[data-theme="dark"] {
    color: var(--aesthetic-text);
}

body[data-theme="dark"] #recent-history-header {
    color: var(--aesthetic-text) !important;
}